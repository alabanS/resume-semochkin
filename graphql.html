<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Product Catalog GraphQL API</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Space+Grotesk&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <style>
    /* –°—Ç–∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ */
    .api-doc {
      margin-top: 2rem;
    }

    .api-endpoint {
      background-color: #f8f9fa;
      padding: 1rem;
      border-radius: 8px;
      border-left: 4px solid #4CAF50;
      margin-bottom: 2rem;
    }

    .api-method {
      font-weight: bold;
      color: #4CAF50;
      margin-right: 1rem;
    }

    .api-description {
      margin: 1rem 0;
      line-height: 1.6;
    }

    .api-section {
      margin-bottom: 2rem;
    }

    .api-section-title {
      font-family: 'Space Grotesk', sans-serif;
      color: #2f4f4f;
      border-bottom: 2px solid #2196F3;
      padding-bottom: 0.5rem;
      margin-bottom: 1rem;
    }

    .api-subsection {
      margin-left: 1rem;
      margin-bottom: 1.5rem;
    }

    .api-subsection-title {
      font-weight: 600;
      color: #2f4f4f;
      margin-bottom: 0.5rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #2196F3;
      color: white;
    }

    tr:nth-child(even) {
      background-color: rgba(33, 150, 243, 0.1);
    }

    tr:hover {
      background-color: rgba(33, 150, 243, 0.2);
    }

    .code-block {
      background-color: #f5f5f5;
      padding: 1rem;
      border-radius: 8px;
      font-family: monospace;
      white-space: pre-wrap;
      margin: 1rem 0;
      border-left: 4px solid #2196F3;
      overflow-x: auto;
    }

    .error-table {
      border-left: 4px solid #f44336;
    }

    .error-table th {
      background-color: #f44336;
    }

    .jira-link {
      color: #2196F3;
      text-decoration: none;
    }

    .jira-link:hover {
      text-decoration: underline;
    }

    .load-table {
      border-left: 4px solid #4CAF50;
    }

    .load-table th {
      background-color: #4CAF50;
    }

    .graphql-query {
      color: #e10098;
    }

    .graphql-type {
      color: #005cc5;
    }

    .graphql-keyword {
      color: #d6336c;
    }
  </style>
</head>
<body>
  <div class="sidebar-trigger"></div>
  <div id="sidebar-container"></div>

  <main class="main-content">
    <div class="theme-toggle">
      <button id="langSwitch">Switch to English üåê</button>
    </div>

    <div class="container api-doc">
      <h1>Product Catalog GraphQL API</h1>

      <div class="api-description">
        <p>GraphQL API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤, –≤–∫–ª—é—á–∞—è –∑–∞–ø—Ä–æ—Å—ã, –º—É—Ç–∞—Ü–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏.</p>
        <p><strong>Jira Task:</strong> <a href="#" class="jira-link" target="_blank">CAT-42</a></p>
      </div>

      <div class="api-section">
        <h2 class="api-section-title">1. –ó–∞–ø—Ä–æ—Å—ã (Queries)</h2>

        <div class="api-subsection">
          <h3 class="api-subsection-title">1.1 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤</h3>
          <div class="api-endpoint">
            <div>
              <span class="api-method">QUERY</span>
              <strong>products</strong>
            </div>
            <div class="api-description">
              <p>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏</p>
            </div>

            <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞</h4>
            <table>
              <thead>
                <tr>
                  <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                  <th>–¢–∏–ø</th>
                  <th>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π</th>
                  <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>category</td>
                  <td>ID</td>
                  <td>–ù–µ—Ç</td>
                  <td>–§–∏–ª—å—Ç—Ä –ø–æ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</td>
                </tr>
                <tr>
                  <td>priceMin</td>
                  <td>Float</td>
                  <td>–ù–µ—Ç</td>
                  <td>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞</td>
                </tr>
                <tr>
                  <td>priceMax</td>
                  <td>Float</td>
                  <td>–ù–µ—Ç</td>
                  <td>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞</td>
                </tr>
                <tr>
                  <td>sort</td>
                  <td>ProductSortField</td>
                  <td>–ù–µ—Ç</td>
                  <td>–ü–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (PRICE, RATING, POPULARITY)</td>
                </tr>
                <tr>
                  <td>order</td>
                  <td>SortOrder</td>
                  <td>–ù–µ—Ç</td>
                  <td>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (ASC, DESC)</td>
                </tr>
                <tr>
                  <td>limit</td>
                  <td>Int</td>
                  <td>–ù–µ—Ç</td>
                  <td>–õ–∏–º–∏—Ç —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20)</td>
                </tr>
                <tr>
                  <td>offset</td>
                  <td>Int</td>
                  <td>–ù–µ—Ç</td>
                  <td>–°–º–µ—â–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0)</td>
                </tr>
              </tbody>
            </table>

            <h4>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</h4>
            <div class="code-block">
<span class="graphql-keyword">query</span> <span class="graphql-query">GetProducts</span>($category: ID, $priceMin: Float, $priceMax: Float) {
  <span class="graphql-query">products</span>(
    category: $category
    priceMin: $priceMin
    priceMax: $priceMax
    sort: <span class="graphql-type">PRICE</span>
    order: <span class="graphql-type">ASC</span>
    limit: 20
    offset: 0
  ) {
    totalCount
    edges {
      node {
        id
        name
        price
        currency
        rating
        inStock
        images
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}
            </div>

            <h4>–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</h4>
            <div class="code-block">
{
  "category": "42",
  "priceMin": 1000,
  "priceMax": 5000
}
            </div>

            <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞</h4>
            <div class="code-block">
<span class="graphql-keyword">type</span> <span class="graphql-type">ProductConnection</span> {
  edges: [<span class="graphql-type">ProductEdge</span>!]!
  pageInfo: <span class="graphql-type">PageInfo</span>!
  totalCount: <span class="graphql-type">Int</span>!
}

<span class="graphql-keyword">type</span> <span class="graphql-type">ProductEdge</span> {
  node: <span class="graphql-type">Product</span>!
  cursor: <span class="graphql-type">String</span>!
}

<span class="graphql-keyword">type</span> <span class="graphql-type">Product</span> {
  id: <span class="graphql-type">ID</span>!
  name: <span class="graphql-type">String</span>!
  description: <span class="graphql-type">String</span>
  price: <span class="graphql-type">Float</span>!
  currency: <span class="graphql-type">Currency</span>!
  rating: <span class="graphql-type">Float</span>
  inStock: <span class="graphql-type">Boolean</span>!
  images: [<span class="graphql-type">String</span>!]
  category: <span class="graphql-type">Category</span>
}
            </div>
          </div>
        </div>
      </div>

      <div class="api-section">
        <h2 class="api-section-title">2. –ú—É—Ç–∞—Ü–∏–∏ (Mutations)</h2>

        <div class="api-subsection">
          <h3 class="api-subsection-title">2.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h3>
          <div class="api-endpoint">
            <div>
              <span class="api-method">MUTATION</span>
              <strong>createProduct</strong>
            </div>
            <div class="api-description">
              <p>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ</p>
            </div>

            <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞</h4>
            <table>
              <thead>
                <tr>
                  <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                  <th>–¢–∏–ø</th>
                  <th>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π</th>
                  <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>input</td>
                  <td>ProductInput!</td>
                  <td>–î–∞</td>
                  <td>–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞</td>
                </tr>
              </tbody>
            </table>

            <h4>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</h4>
            <div class="code-block">
<span class="graphql-keyword">mutation</span> <span class="graphql-query">CreateProduct</span>($input: <span class="graphql-type">ProductInput</span>!) {
  <span class="graphql-query">createProduct</span>(input: $input) {
    id
    name
    price
    currency
    inStock
  }
}
            </div>

            <h4>–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</h4>
            <div class="code-block">
{
  "input": {
    "name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Premium X",
    "description": "–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å AMOLED —ç–∫—Ä–∞–Ω–æ–º",
    "price": 49999.99,
    "currency": "RUB",
    "inStock": true,
    "images": [
      "https://cdn.example.com/img123_1.jpg",
      "https://cdn.example.com/img123_2.jpg"
    ],
    "categoryId": "42"
  }
}
            </div>

            <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h4>
            <div class="code-block">
<span class="graphql-keyword">input</span> <span class="graphql-type">ProductInput</span> {
  name: <span class="graphql-type">String</span>!
  description: <span class="graphql-type">String</span>
  price: <span class="graphql-type">Float</span>!
  currency: <span class="graphql-type">Currency</span> = RUB
  inStock: <span class="graphql-type">Boolean</span> = true
  images: [<span class="graphql-type">String</span>!]
  categoryId: <span class="graphql-type">ID</span>
}
            </div>
          </div>
        </div>
      </div>

      <div class="api-section">
        <h2 class="api-section-title">3. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</h2>

        <div class="api-subsection">
          <h3 class="api-subsection-title">3.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã</h3>
          <div class="code-block">
<span class="graphql-keyword">enum</span> <span class="graphql-type">Currency</span> {
  USD
  EUR
  RUB
}

<span class="graphql-keyword">enum</span> <span class="graphql-type">ProductSortField</span> {
  PRICE
  RATING
  POPULARITY
  CREATED_AT
}

<span class="graphql-keyword">enum</span> <span class="graphql-type">SortOrder</span> {
  ASC
  DESC
}

<span class="graphql-keyword">type</span> <span class="graphql-type">PageInfo</span> {
  hasNextPage: <span class="graphql-type">Boolean</span>!
  hasPreviousPage: <span class="graphql-type">Boolean</span>!
  startCursor: <span class="graphql-type">String</span>
  endCursor: <span class="graphql-type">String</span>
}

<span class="graphql-keyword">scalar</span> <span class="graphql-type">DateTime</span>
          </div>
        </div>
      </div>

      <div class="api-section">
        <h2 class="api-section-title">4. –û—à–∏–±–∫–∏</h2>

        <div class="api-subsection">
          <h3 class="api-subsection-title">4.1 –ö–æ–¥—ã –æ—à–∏–±–æ–∫</h3>
          <table class="error-table">
            <thead>
              <tr>
                <th>–ö–æ–¥</th>
                <th>–°–æ–æ–±—â–µ–Ω–∏–µ</th>
                <th>–†–µ—à–µ–Ω–∏–µ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>PRODUCT_NOT_FOUND</td>
                <td>–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</td>
                <td>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID —Ç–æ–≤–∞—Ä–∞</td>
              </tr>
              <tr>
                <td>INVALID_PRICE</td>
                <td>–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è —Ü–µ–Ω–∞</td>
                <td>–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π</td>
              </tr>
              <tr>
                <td>INVALID_CATEGORY</td>
                <td>–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</td>
                <td>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</td>
              </tr>
              <tr>
                <td>UNAUTHORIZED</td>
                <td>–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</td>
                <td>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞</td>
              </tr>
              <tr>
                <td>FORBIDDEN</td>
                <td>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω</td>
                <td>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="api-subsection">
          <h3 class="api-subsection-title">4.2 –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏</h3>
          <div class="code-block">
{
  "errors": [
    {
      "message": "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
      "locations": [ { "line": 2, "column": 3 } ],
      "path": [ "createProduct" ],
      "extensions": {
        "code": "UNAUTHORIZED",
        "timestamp": "2025-07-10T12:34:56Z"
      }
    }
  ]
}
          </div>
        </div>
      </div>

      <div class="api-section">
        <h2 class="api-section-title">5. –ù–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h2>

        <div class="api-subsection">
          <h3 class="api-subsection-title">5.1 –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
          <table class="load-table">
            <thead>
              <tr>
                <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</td>
                <td>120 –º—Å</td>
                <td>–î–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤</td>
              </tr>
              <tr>
                <td>–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</td>
                <td>850 RPS</td>
                <td>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</td>
              </tr>
              <tr>
                <td>–°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞</td>
                <td>320 RPS</td>
                <td>–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</td>
              </tr>
              <tr>
                <td>99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</td>
                <td>250 –º—Å</td>
                <td>99% –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ</td>
              </tr>
              <tr>
                <td>–û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ</td>
                <td>&lt; 0.1%</td>
                <td>–ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ</td>
              </tr>
            </tbody>
          </table>

          <h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é</h4>
          <div class="code-block">
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è GraphQL
directive @cacheControl(
  maxAge: Int
  scope: CacheControlScope
) on FIELD_DEFINITION | OBJECT | INTERFACE

enum CacheControlScope {
  PUBLIC
  PRIVATE
}

type Product @cacheControl(maxAge: 300, scope: PUBLIC) {
  id: ID!
  name: String!
  # ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="lang.js"></script>
  <script>
    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∞–π–¥–±–∞—Ä–∞
    fetch('sidebar.html')
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.text();
      })
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
        initializeSidebar();
      })
      .catch(error => {
        console.error('Error loading sidebar:', error);
      });

    function initializeSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const sidebarTrigger = document.querySelector('.sidebar-trigger');

      let sidebarTimeout;

      function showSidebar() {
        clearTimeout(sidebarTimeout);
        sidebar.style.left = '0';
        sidebar.style.pointerEvents = 'auto';
      }

      function hideSidebar() {
        sidebarTimeout = setTimeout(() => {
          sidebar.style.left = '-300px';
          sidebar.style.pointerEvents = 'none';
        }, 300);
      }

      if (sidebar && sidebarTrigger) {
        sidebarTrigger.addEventListener('mouseenter', showSidebar);
        sidebar.addEventListener('mouseenter', showSidebar);
        sidebarTrigger.addEventListener('mouseleave', hideSidebar);
        sidebar.addEventListener('mouseleave', hideSidebar);
      }

      const artifactsTitle = document.querySelector('.artifacts-title');
      if (artifactsTitle) {
        artifactsTitle.addEventListener('click', function() {
          if (window.innerWidth <= 768) {
            document.querySelector('.sidebar').classList.toggle('expanded');
          }
        });
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      const acc = document.querySelectorAll(".accordion");
      acc.forEach(el => {
        el.addEventListener("click", function() {
          this.classList.toggle("active");
          const panel = this.nextElementSibling;
          panel.style.maxHeight = panel.style.maxHeight ? null : panel.scrollHeight + "px";
        });
      });
    });
  </script>
</body>
</html>