<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ilya Semochkin ‚Äî Resume</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Space+Grotesk&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
    <div class="sidebar-trigger"></div>

    <!-- –ú–µ—Å—Ç–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Å–∞–π–¥–±–∞—Ä–∞ -->
    <div id="sidebar-container"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <main class="main-content">
        <div class="theme-toggle">
            <button id="langSwitch">Switch to English üåê</button>
        </div>

        <div class="container">
            <h1 data-lang="name">ER-diagrama</h1>
            <div class="photo-container">
                <a href="assets/css/images/alembic_version.png" target="_blank">
                    <img src="assets/css/images/alembic_version.png" alt="–§–æ—Ç–æ" class="resume-photo" />
                </a>
            </div>
        </div>
    </main>

    <script src="lang.js"></script>
    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∞–π–¥–±–∞—Ä–∞
        fetch('sidebar.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(html => {
                document.getElementById('sidebar-container').innerHTML = html;
                initializeSidebar(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–∞–π–¥–±–∞—Ä–∞
            })
            .catch(error => {
                console.error('Error loading sidebar:', error);
            });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π–¥–±–∞—Ä–∞
        function initializeSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const sidebarTrigger = document.querySelector('.sidebar-trigger');

            let sidebarTimeout;

            function showSidebar() {
                clearTimeout(sidebarTimeout);
                sidebar.style.left = '0';
                sidebar.style.pointerEvents = 'auto';
            }

            function hideSidebar() {
                sidebarTimeout = setTimeout(() => {
                    sidebar.style.left = '-300px';
                    sidebar.style.pointerEvents = 'none';
                }, 300);
            }

            if (sidebar && sidebarTrigger) {
                sidebarTrigger.addEventListener('mouseenter', showSidebar);
                sidebar.addEventListener('mouseenter', showSidebar);
                sidebarTrigger.addEventListener('mouseleave', hideSidebar);
                sidebar.addEventListener('mouseleave', hideSidebar);
            }

            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            const artifactsTitle = document.querySelector('.artifacts-title');
            if (artifactsTitle) {
                artifactsTitle.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        document.querySelector('.sidebar').classList.toggle('expanded');
                    }
                });
            }
        }


    </script>
</body>
</html>